<div class="card">
  <div class="card-body">
    <p>Date: <%= booking.date %></p>
    <p>Start Time: <%= booking.start_time.strftime("%H:%M") %></p>
    <p>End Time: <%= booking.end_time.strftime("%H:%M") %></p>
    <p>Total Price: <%= booking.total_price %></p>
    <p>Status: <%= booking.status %></p>
    <%= link_to "Approve", approve_booking_path(booking), method: :post, class: "approve-btn" %>
    <%= link_to "Reject", reject_booking_path(booking), method: :post, class: "reject-btn" %>
  </div>
</div>

<script>
  $(document).ready(function() {
    $(".approve-btn, .reject-btn").click(function() {
      // Get the button that was clicked
      const btn = $(this);

      // Send an AJAX request to update the status
      $.post(btn.attr("href"), { _method: "post", authenticity_token: "<%= form_authenticity_token %>" }, function() {
        // On success, hide the button
        btn.hide();
      });

      // Prevent the default link behavior
      return false;
    });
  });
</script>
